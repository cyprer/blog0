# 第三周周结
  写项目的一周...
## 11.15
  周六,天气晴,中午才醒的,吃个饭又继续睡,然后起床上微机原理实验课,做的很快,然后又做软件安全的实验,但我不知道为什么程序一直打不开文件,我真不知道,文件就在同一个.exe文件目录下啊,俺不中了,今天的剩余也是一直在玩了.
## 11.16
  周日,天气晴,昨晚睡得有点晚了,一直赖床到三点才起来,想吃自选的,但是还没有,于是吃绿豆饼去了,买了杯烧仙草,嗯,下午也没学习,晚上学了点,把项目的问题解决了,问题在于我原本的启动类是在app层的,构建的时候扫描不到api层的controller,但是api层依赖于app层,所以app层不能再依赖api层了,然后我又去看xfg是怎么解决的,才发现xfg的是api层定义的是接口,trigger实现这个接口,app依赖trigger,所以没出现问题,想了想就不这样做了,直接把启动类放在api层了,接着就完善一下功能,检查一下有哪些ai生成的但是我不懂的.
## 11.17
  周一,天气晴,依旧中午醒的,吃饭,然后玩了会杀戮尖塔,依旧难到破防,学习了...主要还是完善一下用户注册和登录的功能,效率很慢啊,两个功能做了那么久...主要还是一些细节比如定义统一的响应类,还是说每个接口定义一个响应类这样的问题纠结,还有就是学习jwt,雪花算法的知识耗费了时间,还有异常处理,终于也是完成了,github第一次提交了.
## 11.18
  周二,天气晴,依旧中午醒的,吃个饭,买了杯柠檬红茶,有点想念必胜客的武夷大红袍了,然后做做前端吧,做了用户注册成功设置密码和验证码登录重置密码的界面,弄了个统一的全局css样式,好看多了,但还没测试,我就去弄后端了,去弄用户的信息更新接口,一开始弄了更新密码和用户名的接口,弄完了发现我难道就不能整合这些更新用户信息的接口吗,然后询问ai发现还有patch的请求方式,涨知识了,但是前面也是白忙活了,写了两个接口又删掉重新写一个总的,好累,我去了...然后就一直在测试,遇到了很多问题,比如前端有跨域请求的问题,还有就是后端请求参数配置的问题,一开始发送验证码用的是@RequestBody,但是后端又说没有一个类型为String的phone参数,是因为发的是json所以识别不了吗,有点忘了是啥问题了,反正就是识别不了phone,然后后面不知道怎么解决了,但是后面有发现注册不了,我调试发现验证码没获取到,一看redis,发现是phone的问题,竟然带大括号,被@RequestBody毁了,然后就改成@RequestParam,就好了,然后锻炼去了,我服了,还遇到啥问题来着,诶我去了忘了,早知道记录了,然后测试获取当前用户登录的接口时候,用apifox测试,但是这样登录再获取,就不是同一个线程,我也就不知道thread local是否生效的,然后就想写一个测试类,但是也有点难,然后明天再学一下mock测试吧,准备睡觉了.
## 11.19
  周三,天气晴,今天太冷了,低至13度,然后外面还很吵,越峰闹钟响了又不关,响一次关一次,我没招了,赖会床,竟然刷到一个记录电脑使用的开源项目,之前寒假就想弄了,但是没找到,真是无心插柳柳成荫,但是没中文,又去折腾了别的,浪费了些许时间,然后开始测试me接口吧,也是测试好了,大概学了一下吧,然后就去弄claude了,先去让它帮我完善一下后端的功能,但没想到修改代码的时候哦还忘记导入了,相当于改了两次,不知道是不是免费的所以这样,然后又让它去改前端,问题也好多,没招了,没等它弄好我就去睡觉了, 一觉睡到五点多,点了个拼好饭,5块钱,昨晚也是五块钱,哈哈哈,然后看看前端弄得怎么样了,差不多,然后测试一下登录功能,发现前端判定response.data.code===200,因为没带引号,所以判错了,加上就可以登录成功了,还有个问题就是,我后端返回统一的response,但是我并没有设置状态码,导致每次请求状态码都是200,不管响应什么,然后又去修改后端代码了,一开始想着一个一个改返回值,问了一下豆包说可以定义一个工具类,这样我app和domain层的函数返回值了,诶我去了,这就是代码的魅力吗,靠测试了一遍注册功能怎么又出问题了,好像是之前的password请求忘改了,赶紧修复了,做着做着发现自己验证码登录的功能还没做,还得写一个验证码登录的请求类,累死了,注册功能有问题了,因为之前我并没有给用户设置密码,然后我在User类设置了个默认的加密密码,但问题就出现在这里了,加密工具和在domain层里的就不是同一个实例,导致加密结果不同,导致我死活登录不了,我服了,把user类的passwordencoder去掉了,还是错,我是傻逼,我设置的默认密码是123456,但我测试的时候输入的是515221,能成功就怪了,我服了,锻炼了,锻炼完洗完澡都23点半了,我去了时间怎么过去的这么快,我的效率慢的没边了,基本测完了,剩一个更新用户信息的功能,需要同一个线程测试,得mock,诶呦懒得写啊,然后还有一个问题就是我更新用户id之后还能正常返回用户更新后的信息吗,不管了,我得休闲娱乐一下了.
## 11.20
  周四,天气晴,依旧中午醒的,吃个拼好饭,舍友问了我写漏洞论文写没,一看23号就要交了,虽然我已经写了,但还是得修饰一下,准备弄完就去写软件安全的实验报告,我靠我换了个选题,然后写了好久,有点不想写了,然后打瓦去了,越玩越菜是真的,下午点了个烤肉拌饭,依旧怀念高三的生活了,然后写软件安全的实验报告了,然后就看看后端还有啥需要完善的,然后就上传github,然后打瓦,今晚不想学了.
## 11.21
  周五,天气晴,依旧中午醒的,吃个拼好饭,然后打瓦,然后也没学习,一直刷抖音,然后去完善一下前端的功能,适配一下后端,有好多问题,比如传参的时候,前后端没协调好,额变量命名不一致导致没传过去或者没解析好,一开始me接口用的thread local做的,但是跨请求根本是不同的线程,直接访问到别的用户的信息了,然后就改成用token做了,还有个问题就是前端token带着bearer前缀,后端没处理,然后好困,想赶紧做完这个功能睡一会,做完了,虽然界面还有点丑,但我真得睡一会了,没想到我睡的时候王雨轩打电话叫我打瓦,他竟然买了颗秒套装,我表示震惊,耐不住他我再睡一会就跟他打了,打完就锻炼,洗完澡优化一下前端的界面,然后玩了会尖塔就睡觉了.